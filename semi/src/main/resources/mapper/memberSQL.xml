<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="data.mapper.MemberMapperInter">
	<insert id="insertMember" parameterType="user">
		INSERT INTO User (name,USERID,password,hp,email,address,joinday) VALUES (#{name},#{userid},#{password},#{hp},#{email},#{address},now())
	</insert>	
	<select id="getSearchId" parameterType="String" resultType="int">
		SELECT count(*) FROM User WHERE USERID=#{userid}	
	</select>
	<select id="getSearchName" parameterType="String" resultType="String">
		SELECT name FROM User WHERE USERID=#{userid}
	</select>
	<select id="login" parameterType="Map" resultType="int">
		SELECT count(*) FROM User WHERE USERID=#{userid} and password=#{password}
	</select>
	<update id="updateScrapRecipe">
		UPDATE User SET scraprecipe = IF(scraprecipe IS NULL OR scraprecipe = 'none', #{RECIPE_IDX}, CONCAT(scraprecipe, ",", #{RECIPE_IDX})) WHERE USERID=#{USERID}
	</update>
</mapper>  